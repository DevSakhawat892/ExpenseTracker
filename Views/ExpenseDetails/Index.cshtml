@model IEnumerable<ExpenseTracker.Models.ExpenseDetails>

@{
   ViewData["Title"] = "Index";
   Layout = "~/Views/Shared/_Layout.cshtml";
}

<h4 class="text-center">Expense Details</h4>

<form asp-action="Index" asp-controller="ExpenseDetails" class="text-center pt-5 pb-4">
   <div class="row g-3 align-items-center">
      <div class="col-auto">
         <label for="StartDate" class="col-form-label">Start Date</label>
      </div>
      <div class="col-auto">
         <input type="date" name="StartDate" class="form-control" placeholder="Start Date" />
      </div>
      <div class="col-auto">
         <label for="EndDate" class="col-form-label">End Date</label>
      </div>
      <div class="col-auto">
         <input type="date" name="EndDate" class="form-control" placeholder="End Date" />
      </div>

      <input type="submit" name="GetData" value="Filtered Data" class="btn btn-primary" />
   </div>
</form>

<table class="table table-bordered table-striped text-center">
   <thead class="table-hd">
      <tr>
         <th>
            @Html.DisplayNameFor(model => model.ExpenseDate)
         </th>
         <th>
            @Html.DisplayNameFor(model => model.ExpenseAmount)
         </th>
         <th>
            @Html.DisplayNameFor(model => model.ExpenseCategory)
         </th>
         <th>
            <a class="btn btn-primary" asp-action="Create">Create New</a>
         </th>
      </tr>
   </thead>
   <tbody>
      @foreach (var item in Model)
      {
         <tr>
            <td>
               @Html.DisplayFor(modelItem => item.ExpenseCategory.Category)
            </td>
            <td>
               @Html.DisplayFor(modelItem => item.ExpenseAmount)
            </td>
            <td>
               @Html.DisplayFor(modelItem => item.ExpenseDate)
            </td>
            <td>
               <a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-secondary">Edit</a>
               <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-danger">Delete</a>
            </td>
         </tr>
      }
   </tbody>
</table>
